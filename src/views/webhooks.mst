<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aui/9.5.1/aui/aui-prototyping.min.css" />
    <link rel="stylesheet" href="/public/css/main.css">
    <title>{{index}}</title>
</head>
<body>
<br/>
<br/>
<a class="aui-button" href="/">Home</a>
<br/>
<br/>
<hr>
<br>
<div class="flexed">
    <div>{{body}}</div>
    <div>
        <a class="aui-button" href="/webhooks">
            <span class="aui-icon aui-icon-small aui-iconfont-refresh">Refresh</span>
            <span>Refresh</span>
        </a>
        <button class="aui-button" id="deleteWebhooks">
            <span class="aui-icon aui-icon-small aui-iconfont-trash">Clear</span>
            <span>Clear</span>
        </button>
    </div>
</div>
<br>
<hr>
<br>
<pre class="logs-container">{{logs}}</pre>
<br/>
<br/>
</body>
<!-- This script is needed for all the views in the connect app -->
<script src="https://connect-cdn.atl-paas.net/all.js" async></script>
<script>
    document.querySelector("#deleteWebhooks").addEventListener('click', () => {
        fetch('/webhooks', {
            method: 'DELETE'
        }).then(response => {
            if (response.ok) {
                window.location.reload();
            }
            console.log("Could not clear the logs: ", response);
        });
    });
</script>
</html>